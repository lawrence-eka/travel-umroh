yalla.framework.addComponent("/dist/booking/bookPackage",function(){function e(e,t,n,r){this.data=t,this.target=n,this.type=e,this.currentTarget=r}function t(e){return{}}function n(e){}function r(e){var t=I.numberOfPassengers?I.numberOfPassengers:0;I=e,I.numberOfPassengers=t}function a(e){I.numberOfPassengers=e}function o(e){I.uniqueCode=Math.floor(1e3*Math.random()),I.waitingForPaymentUntil=(new Date).getTime()+108e5,dpd.bookings.put(I,function(t,n){n?P=n.message:window.location.hash="#app/booking.paymentDetails:bookingId="+e,c()})}function s(e){return new Promise(function(t){dpd.passengers.get({bookingId:e},function(e,n){n?P=JSON.stringify(n):(a(e.length),t(e))})})}function i(e){I.totalPrice=I.numberOfPassengers*(I.costTickets+I.costLandArrangements),dpd.bookings.put(I,function(e,t){t&&(P=t.message,c())});var t=this.target.form,n={};return n.bookingId=t.elements.bookingId.value,n.firstName=t.elements.firstName.value,n.middleName=t.elements.middleName.value,n.lastName=t.elements.lastName.value,n.birthPlace=t.elements.birthPlace.value,n.birthday=new Date(t.elements.birthday.value).getTime(),n.passportNumber=t.elements.passportNumber.value,n.passportIssuer=t.elements.passportIssuer.value,n.passportIssueDate=new Date(t.elements.passportIssueDate.value).getTime(),n.passportExpiryDate=new Date(t.elements.passportExpiryDate.value).getTime(),t.elements.firstName.value="",t.elements.middleName.value="",t.elements.lastName.value="",t.elements.birthPlace.value="",t.elements.birthday.value="",t.elements.passportNumber.value="",t.elements.passportIssuer.value="",t.elements.passportIssueDate.value="",t.elements.passportExpiryDate.value="",dpd.passengers.post(n,function(e,t){t&&(P=JSON.stringify(t)),c()}),!1}function p(e){return new Promise(function(t){dpd.bookings.get(e,function(e,n){n?P=JSON.stringify(n):(t(e),r(e))})})}function m(r,a){f["card-booking"]=l("/booking/card-booking");f["card-booking"];f["card-passenger"]=l("/booking/card-passenger");f["card-passenger"];f.alert=l("/component/alert");f.alert;f.entry=l("/component/entry");f.entry;f.panel=l("/component/panel");f.panel;f.ppLink=l("/component/ppLink");f.ppLink;y("link",""),D("element","dist.booking.bookPackage"),D("href","asset/css/custom-style.css"),D("rel","stylesheet"),k("link"),v("link"),y("div",""),D("element","dist.booking.bookPackage"),k("div");var m=IncrementalDOM.currentElement(),u=yalla.framework.validComponentName(m,d);m._state=m._state&&u?m._state:t.bind(m)(r),m._state._name=d;var I=(m._state,{component:m,properties:r,state:m._state});u&&yalla.framework.propertyCheckChanges(m._properties,r,n.bind(I)),m._properties=r,y("div",""),k("div"),function(e){function t(e){var t={bkg:e};f["card-booking"].render("object"==typeof arguments[1]?b(arguments[1],t):t,function(e,t){})}var n=e.element,a={target:n};a.properties=r,"elements"in a.target&&(a.elements=a.target.elements),a.currentTarget=a.target,a.component=m,a.component._state=a.component._state||{},a.state=a.component._state;var o=p.bind(a)(r.bookingId);o&&"object"==typeof o&&"then"in o?(h(),o.then(function(e){c(n,function(){t.call(a,e)})}).catch(function(e){console.log(e)})):t.call(a,o)}({element:IncrementalDOM.currentElement(),pointer:IncrementalDOM.currentPointer()}),v("div");var P={title:"Passenger Detail"};f.panel.render("object"==typeof arguments[1]?b(arguments[1],P):P,function(t,n){if("body"===t){if(y("div",""),k("div"),y("form",""),D("role","form"),k("form"),"footer"===t){y("div",""),k("div");var a={};f.ppLink.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){}),v("div")}y("div",""),D("class","row"),k("div");var a={type:"hidden",name:"bookingId",value:r.bookingId};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){});var a={type:"text",prompt:"First Name",name:"firstName"};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){});var a={type:"text",prompt:"Middle Name",name:"middleName"};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){});var a={type:"text",prompt:"Last Name",name:"lastName"};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){});var a={type:"text",prompt:"Birth Place",name:"birthPlace"};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){});var a={type:"date",prompt:"Birthday",name:"birthday",value:(new Date).toYYYYMMDD(),max:(new Date).toYYYYMMDD()};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){});var a={type:"text",prompt:"Passport Number",name:"passportNumber"};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){});var a={type:"date",prompt:"Passport Issue Date",name:"passportIssueDate",value:(new Date).toYYYYMMDD(),max:(new Date).toYYYYMMDD()};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){});var a={type:"date",prompt:"Passport Expiry Date",name:"passportExpiryDate",value:(new Date).toYYYYMMDD(),min:(new Date).toYYYYMMDD()};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){});var a={type:"text",prompt:"Passport Issuer",name:"passportIssuer"};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){});var a={type:"button",name:"btnRegister",value:"Register",onclick:function(t){var n={target:t.target};n.properties=r,"elements"in n.target&&(n.elements=n.target.elements),n.currentTarget=this==t.target?n.target:g(t.currentTarget),n.component=m,n.component._state=n.component._state||{},n.state=n.component._state,n.emitEvent=function(t,a){var o=new e(t,a,n.target,n.currentTarget);"on"+t in r&&r["on"+t](o)},i.bind(n)(r.bookingId)}};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){});var a={type:"button",name:"btnPaymentDetail",value:"Payment Detail",onclick:function(t){var n={target:t.target};n.properties=r,"elements"in n.target&&(n.elements=n.target.elements),n.currentTarget=this==t.target?n.target:g(t.currentTarget),n.component=m,n.component._state=n.component._state||{},n.state=n.component._state,n.emitEvent=function(t,a){var o=new e(t,a,n.target,n.currentTarget);"on"+t in r&&r["on"+t](o)},o.bind(n)(r.bookingId)}};f.entry.render("object"==typeof arguments[1]?b(arguments[1],a):a,function(e,t){}),v("div"),v("form"),v("div")}}),y("div",""),k("div"),function(e){function t(e){var t=e||[];t.forEach(function(e){y("p",""),k("p");var t={passenger:e};f["card-passenger"].render("object"==typeof arguments[1]?b(arguments[1],t):t,function(e,t){}),v("p")})}var n=e.element,a={target:n};a.properties=r,"elements"in a.target&&(a.elements=a.target.elements),a.currentTarget=a.target,a.component=m,a.component._state=a.component._state||{},a.state=a.component._state;var o=s.bind(a)(r.bookingId);o&&"object"==typeof o&&"then"in o?(h(),o.then(function(e){c(n,function(){t.call(a,e)})}).catch(function(e){console.log(e)})):t.call(a,o)}({element:IncrementalDOM.currentElement(),pointer:IncrementalDOM.currentPointer()}),v("div"),v("div")}var c=yalla.framework.renderToScreen,l=yalla.framework.createInjector("/dist/booking/bookPackage"),u={},d="dist.booking.bookPackage",f={},g=yalla.framework.getParentComponent,b=yalla.utils.merge,v=(IncrementalDOM.elementOpen,IncrementalDOM.elementClose),y=IncrementalDOM.elementOpenStart,k=IncrementalDOM.elementOpenEnd,D=(IncrementalDOM.elementVoid,IncrementalDOM.text,IncrementalDOM.attr),h=IncrementalDOM.skip,I={},P="";return"function"==typeof m&&(u.render=m),u}());