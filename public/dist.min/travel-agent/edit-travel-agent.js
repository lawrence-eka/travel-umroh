yalla.framework.addComponent("/dist/travel-agent/edit-travel-agent",function(){function e(e,t,n,a){this.data=t,this.target=n,this.type=e,this.currentTarget=a}function t(e){return{}}function n(e){}function t(e){return{alert:new Alert(null,s,"alert"),travelAgentId:e.travelAgentId}}function a(e){var t=this;return new Promise(function(n){e?dpd.travelagents.get(e,function(e,a){t.state.alert.alert(a),a?e={}:e||(e={contactPersonId:storage.me.read().id}),n(e)}):(ta={contactPersonId:storage.me.read().id},n(ta))})}function r(){this.state.travelAgentId=null,this.emitEvent("close")}function o(){var e=this.target.form,t=this,n={travelAgentName:e.elements.travelAgentName.value,address:e.elements.address.value,city:e.elements.city.value,contactPersonId:e.elements.contactPersonId.value};""==e.elements.id.value?dpd.travelagents.post(n,function(e,n){l(e,n,t)}):dpd.travelagents.put(e.elements.id.value,n,function(e,n){l(e,n,t)})}function l(e,t,n){var a=n.target.form;n.state.alert.alert(t),t||(a.elements.id.value="",a.elements.travelAgentName.value="",a.elements.address.value="",a.elements.city.value="",a.elements.contactPersonId.value="",n.state.alert.alert(null),n.state.travelAgentId=null,n.emitEvent("close"))}function c(l,c){f("link",""),I("element","dist.travel-agent.edit-travel-agent"),I("href","asset/css/custom-style.css"),I("rel","stylesheet"),y("link"),g("link"),v.alert=i("/component/alert");v.alert;v.entry=i("/component/entry");v.entry;v.panel=i("/component/panel");v.panel;f("div",""),I("element","dist.travel-agent.edit-travel-agent"),y("div");var m=IncrementalDOM.currentElement(),h=yalla.framework.validComponentName(m,d);m._state=m._state&&h?m._state:t.bind(m)(l),m._state._name=d;var _=m._state,A={component:m,properties:l,state:m._state};h&&yalla.framework.propertyCheckChanges(m._properties,l,n.bind(A)),m._properties=l,function(t){function n(t){var n={title:(_.travelAgentId?"Edit":"New")+" Travel Agent",nofooter:"nofooter"};v.panel.render("object"==typeof arguments[1]?u(arguments[1],n):n,function(n,a){if("body"===n){f("div",""),y("div"),f("span",""),y("span"),yalla.framework.registerRef("alert",IncrementalDOM.currentElement(),function(){var e={alertType:_.alert.type.bind(i)(),message:_.alert.text.bind(i)()};v.alert.render("object"==typeof arguments[1]?u(arguments[1],e):e,function(e,t){})})(),g("span"),f("form",""),I("role","form"),y("form"),f("div",""),I("class","row"),y("div");var c={type:"hidden",name:"id",value:t.id};v.entry.render("object"==typeof arguments[1]?u(arguments[1],c):c,function(e,t){});var c={type:"hidden",name:"contactPersonId",value:t.contactPersonId};v.entry.render("object"==typeof arguments[1]?u(arguments[1],c):c,function(e,t){});var c={type:"text",prompt:"Name",name:"travelAgentName",value:t.travelAgentName};v.entry.render("object"==typeof arguments[1]?u(arguments[1],c):c,function(e,t){});var c={type:"textarea",prompt:"Address",name:"address",value:t.address};v.entry.render("object"==typeof arguments[1]?u(arguments[1],c):c,function(e,t){});var c={type:"text",prompt:"City",name:"city",value:t.city};v.entry.render("object"==typeof arguments[1]?u(arguments[1],c):c,function(e,t){}),g("div"),f("div",""),I("class","row"),y("div");var c={type:"button",name:"btnSave",value:_.travelAgentId?"Save":"Register",divClass:"col-xs-6 col-sm-6 col-md-6 col-lg-6",onclick:function(t){var n={target:t.target};n.properties=l,"elements"in n.target&&(n.elements=n.target.elements),n.currentTarget=this==t.target?n.target:p(t.currentTarget),n.component=m,n.component._state=n.component._state||{},n.state=n.component._state,n.emitEvent=function(t,a){var r=new e(t,a,n.target,n.currentTarget);"on"+t in l&&l["on"+t](r)},o.bind(n)()}};v.entry.render("object"==typeof arguments[1]?u(arguments[1],c):c,function(e,t){});var c={type:"button",name:"btnCancel",value:"Cancel",divClass:"col-xs-6 col-sm-6 col-md-6 col-lg-6",onclick:function(t){var n={target:t.target};n.properties=l,"elements"in n.target&&(n.elements=n.target.elements),n.currentTarget=this==t.target?n.target:p(t.currentTarget),n.component=m,n.component._state=n.component._state||{},n.state=n.component._state,n.emitEvent=function(t,a){var r=new e(t,a,n.target,n.currentTarget);"on"+t in l&&l["on"+t](r)},r.bind(n)()}};v.entry.render("object"==typeof arguments[1]?u(arguments[1],c):c,function(e,t){}),g("div"),g("form"),g("div")}})}var c=t.element,i={target:c};i.properties=l,"elements"in i.target&&(i.elements=i.target.elements),i.currentTarget=i.target,i.component=m,i.component._state=i.component._state||{},i.state=i.component._state;var d=a.bind(i)(_.travelAgentId);d&&"object"==typeof d&&"then"in d?(b(),d.then(function(e){s(c,function(){n.call(i,e)})}).catch(function(e){console.log(e)})):n.call(i,d)}({element:IncrementalDOM.currentElement(),pointer:IncrementalDOM.currentPointer()}),g("div")}var s=yalla.framework.renderToScreen,i=yalla.framework.createInjector("/dist/travel-agent/edit-travel-agent"),m={},d="dist.travel-agent.edit-travel-agent",v={},p=yalla.framework.getParentComponent,u=yalla.utils.merge,g=(IncrementalDOM.elementOpen,IncrementalDOM.elementClose),f=IncrementalDOM.elementOpenStart,y=IncrementalDOM.elementOpenEnd,I=(IncrementalDOM.elementVoid,IncrementalDOM.text,IncrementalDOM.attr),b=IncrementalDOM.skip;return"function"==typeof c&&(m.render=c),m}());