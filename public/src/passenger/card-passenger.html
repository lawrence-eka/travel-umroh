<inject from="/component/panel" name="card"></inject>
<inject from="/component/entry" name="entry"></inject>

<div>
    <card title.bind="($passenger.firstName + ' ' + $passenger.lastName).toTitleCase()" nofooter>
        <div slot.name="body">
            First Name: {{$passenger.firstName}}; Middle Name: {{$passenger.middleName}}; Last Name: {{$passenger.lastName}};<br/>
            Birth Place: {{$passenger.birthPlace}}; Birth Date: {{($passenger.birthday).toDateComponents()}}<br/>
            Passport No: {{$passenger.passportNumber}}; Expiry Date: {{($passenger.passportExpiryDate).toDateComponents()}}<br/>
            <div if.bind="$bookingStatus.code==@bookingUtils.definingPassengers">
                <entry type="button" value="Edit" divClass="col-xs-6 col-sm-6 col-md-6 col-lg-6" click.trigger="onEdit()"></entry>
                <entry type="button" value="Delete" divClass="col-xs-6 col-sm-6 col-md-6 col-lg-6" click.trigger="onDelete()"></entry>
            </div>
        </div>
    </card>
</div>
<script>
    function initState(props){
    	return {
    		passenger: props.passenger,
            bookingUtils: new Utils().booking,
        }
    }
/*
    function onPropertyChange(props) {
    	if(props.passenger) this.state.passenger = props.passenger.newValue;
    }
*/
    function onEdit(){
    	this.emitEvent('edit', this.state.passenger.id);
    }

    function onDelete(){
	    this.emitEvent('delete', this.state.passenger.id);
    }
</script>