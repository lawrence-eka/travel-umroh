<inject from="/component/panel" name="panel"></inject>
<inject from="/component/entry" name="entry"></inject>

<div>
    <panel title.bind="fullName($user.firstName, $user.lastName)" nofooter>
        <div slot.name="body">
            Admin: {{$user.needApproval.isAdmin ? 'Yes' : 'No'}}<br/>
            Travel Agent: {{$user.needApproval.isTravelAgent ? 'Yes' : 'No'}}<br/>
            <div class=row">
                <entry type="button" value="Approve" divClass="col-xs-6 col-sm-6 col-md-6 col-lg-6" click.trigger=onApprove($user)"></entry>
                <entry type="button" value="Reject" divClass="col-xs-6 col-sm-6 col-md-6 col-lg-6" click.trigger=onReject($user)"></entry>
            </div>
        </div>
    </panel>
</div>

<script>
    function onApprove(user) {
    	this.emitEvent('approve', user);
    }

    function onReject(user) {
    	this.emitEvent('reject', user);
    }

    function fullName(firstName, lastName) {
    	return ((firstName ? firstName : 'NoFirstName') + ' ' + (lastName ? lastName : 'NoLastName')).toTitleCase()
    }
</script>
