<inject from="/user/login-form" name="login-panel"></inject>
<inject from="/user/reset-password" name="reset-password"></inject>
<inject from="/component/header" name="app-header"></inject>

<div class="container">
    <div data.load="checkCurrentUser()">
       <!-- <div if.bind="data"> -->
            <app-header></app-header>
            <slot-view></slot-view>
        <!-- </div> -->
        <!--
        <div if.bind="!data">
            <login-panel></login-panel>
        </div>
        -->
    </div>
</div>

<script>
    function checkCurrentUser(){
    	return storage.me.read();
    }

    document.addEventListener('touchmove', function(event){if(event.scale !==1){event.preventDefault();}}, false);
//	var lastTouchEnd = 0;
//	document.addEventListener('touchend', function (event) {
//	  var now = (new Date()).getTime();
//	  if (now - lastTouchEnd <= 300) {
//	    event.preventDefault();
//	  }
//	  lastTouchEnd = now;
//	}, false);

</script>